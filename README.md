# 🎀 DoroPet: AI 智慧桌面小管家

**DoroPet** 是一個基於 **Python** 與 **PyQt6** 開發的智慧互動桌面寵物。它具備「地端優先」的混合 AI 大腦，能陪你聊天、查詢美股資訊，還會記錄你們之間的所有點滴。

---

## ✨ 核心功能

* 🧠 **混合 AI 動態分流**
    * 優先使用地端 **Ollama (Gemma2:2b)** 進行快速回覆，省流又快速。
    * 遇到複雜問題（如股市分析、程式除錯）時，自動無縫切換至 **Gemini 2.5 Flash**。

* ⚙️ **自動化服務管理**
    * 程式啟動時會自動檢查並在背景喚醒 Ollama 服務。
    * 若偵測到缺少模型，會自動執行安裝指令，使用者無需手動設定。

* 💖 **互動式體驗**
    * **自由拖曳**：隨意將 Doro 置於桌面的任何角落。
    * **雙擊對話**：快速開啟對話框，支援中文輸入法（IME），並具備防手抖重複發送機制。
    * **回憶系統**：右鍵選單可查看完整的歷史紀錄視窗，文字清晰且自動分類。
    * **動態跟隨氣泡**：對話氣泡會自動黏著在 Doro 頭頂，並隨移動即時更新位置。

---

## 🚀 快速啟用步驟

### 1. 安裝 Ollama (地端大腦核心)
1.  前往 [Ollama 官方網站](https://ollama.com/) 下載並安裝。
2.  安裝完成後，建議先開啟終端機執行一次以下指令，確保模型可正常運作（之後 Doro 會自動管理）：
    ```bash
    ollama run gemma2:2b
    ```

### 2. 環境設定
1.  確保你的電腦已安裝 **Python 3.10+**。
2.  複製專案到本地端後，安裝必要套件：
    ```bash
    pip install PyQt6 google-genai python-dotenv requests yfinance
    ```
3.  在專案根目錄建立 `.env` 檔案，並填入你的 API 金鑰：
    ```env
    GEMINI_API_KEY=你的_GEMINI_API_KEY
    ```

### 3. 執行程式
直接執行主程式即可喚醒 Doro：
```bash
python main.py